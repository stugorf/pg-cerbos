coordinator=true
node-scheduler.include-coordinator=false
http-server.http.port=8080
http-server.https.enabled=false
discovery.uri=http://trino-coordinator:8080

# Turn OFF internal TLS/secret while debugging
internal-communication.https.required=false

# Allow forwarded headers from proxy/load balancer
http-server.process-forwarded=true

# CRITICAL: Increase client timeout for long-running result streams
query.client.timeout=3600s

# CRITICAL: Fix result delivery hanging in FLUSHING state
query.max-execution-time=10m
query.max-run-time=10m
query.max-cpu-time=10m

# CRITICAL: Disable problematic thread-per-driver scheduler (fixes query hanging at 100%)
experimental.thread-per-driver-scheduler-enabled=false

# Basic threading settings - using documented properties only
task.max-worker-threads=8
http-server.threads.max=200

# CRITICAL: Increase HTTP server threads for better concurrent client handling
http-server.threads.min=50

# Exchange manager settings - using documented properties only
exchange.client-threads=8
exchange.max-buffer-size=32MB

# Task execution settings - using documented properties only
task.max-drivers-per-task=8
task.min-drivers=4
task.initial-splits-per-node=2
task.max-partial-aggregation-memory=16MB